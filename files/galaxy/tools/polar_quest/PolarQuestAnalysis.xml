<tool id="polarQuestAnalysis" name="PolarQuestAnalysis">
    <description> </description>
<requirements>
<requirement type="package" version="1.0.0">root_foss_python</requirement>
</requirements>
<command>
<![CDATA[ 
         #set $filetype = 'default'
         #if $file['filetype'] == "default":
         python '/storage/shared/software/Scripts/Polarquest2018/PolarQuestAnalysis.py' '/storage/shared/data/fys5555/Polarquest2018/$Detectors';
         #elif $file['filetype'] == "upload": 
         #set $filetype = "upload"
         python '$uploadPolarQuestAnalysis_file'  '/storage/shared/data/fys5555/Polarquest2018/$Detectors';
         #end if
]]>

</command>
<inputs>
     <conditional name="file">
        <param name="filetype" type="select" label="choose which file to use">
            <option value="default" selected="true">Use Default files</option>
            <option value="upload">Upload the files</option>
        </param>
        <when value="upload">
<param name="uploadPolarQuestAnalysis_file" type="data" format="source.py"  label="python script " title="InputFiles" help="Please select python script" visible="false"/>
</when>
</conditional>

<param name="Detectors" type="select" label="Select which of the detectors you wants to analyse" help="If no option has selected the first one is selected by default.">
       <option value="POLA-01" selected="true">POLA-01</option>
       <option value="POLA-02">POLA-02</option>
       <option value="POLA-03">POLA-03</option>
</param>
</inputs>
<outputs>
      <collection name="PolarQuestAnalysis Output" type="list" label="PolarQuestAnalysis Output $Detectors">
      <discover_datasets pattern="(?P&lt;designation&gt;.+)\.png" directory="./"   ext="png"  recurse="true" visible="false" from_tool_provided_metadata="true" />
     </collection>

</outputs>
<help>
Tool for Analysing the PolarQueeest data
</help>

</tool>
